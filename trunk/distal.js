function distal(g,h){var i=new Function;i.prototype=h;var h=new i,i=distal.resolve,b=g,s=g.ownerDocument,m=!!g.querySelectorAll,u="innerText"in g?"innerText":"textContent",z={className:1,"class":1,innerHTML:1,style:1,src:1,href:1,id:1,value:1,checked:1,selected:1,label:1,htmlFor:1,text:1,disabled:1},j=distal,v=j.beforeAttr,q=j.beforeText,w=j.qif||"data-qif",t=j.qrepeat||"data-qrepeat",x=j.qattr||"data-qattr",y=j.qtext||"data-qtext",j=j.qdef||"data-qdef",r="*["+[j,w,t,x,y].join("],*[")+"]",e,A=function(a){return this[a]}, d=g.parentNode;for(;(b=g.nextSibling)&&1==b.nodeType&&(b.qdup||b.getAttribute("qdup"));)d.removeChild(b);var o,p=[0],l,k=0,a,c;if(m){for(l=g.querySelectorAll("*[qdup]");b=l[k++];)b.parentNode.removeChild(b);k=0}o=[m?g.querySelectorAll(r):g.getElementsByTagName("*")];for(l=[g];;){for(b=l[k++];!b&&(l=o.pop());)k=p.pop(),b=l[k++];if(!b)break;if(a=b.getAttribute(j))a=a.split(" "),h[a[0]]=i(h,a[1]);if(a=b.getAttribute(w)){a=a.split(" ");0==a[0].indexOf("not:")&&(a=[a[0].substr(4),"not",0]);if((c=i(h,a[0]))&& c.join&&-1<c.length)c=c.length;if(2<a.length)switch("number"==typeof c&&(a[2]*=1),a[1]){case "not":a=!c;break;case "eq":a=c==a[2];break;case "ne":a=c!=a[2];break;case "gt":a=c>a[2];break;case "lt":a=c<a[2];break;case "cn":a=c&&0<=c.indexOf(a[2]);break;case "nc":a=c&&0>c.indexOf(a[2]);break;default:throw b;}if(a)b.style.display="";else{b.style.display="none";k=m?k+b.querySelectorAll(r).length:k+b.getElementsByTagName("*").length;continue}}if(a=b.getAttribute(t)){c=a.split(" ");if(!m)for(e=b.parentNode;(d= b.nextSibling)&&1==d.nodeType&&(d.qdup||d.getAttribute("qdup"));)e.removeChild(d);var f=i(h,c[1]);if(f&&f.length)b.style.display="",h[c[0]]=f[0];else{b.style.display="none";k=m?k+b.querySelectorAll(r).length:k+b.getElementsByTagName("*").length;continue}if(1<f.length){e=Array(f.length-1);len=e.length;for(c=len;0<c;c--)e[len-c]=c;d=b.cloneNode(!0);"form"in d&&(d.checked=!1);d.setAttribute(j,a);d.removeAttribute(t);d.setAttribute("qdup","1");d=d.outerHTML||s.createElement("div").appendChild(d).parentNode.innerHTML; c=d.indexOf(" "+j+'="'+a+'"');-1==c&&(c=d.indexOf(" "+j+"='"+a+"'"));c=c+j.length+3+a.length;e=d.substr(0,c)+"."+e.join(d.substr(c)+d.substr(0,c)+".")+d.substr(c);d=s.createElement("div");"cells"in b?(d.innerHTML="<table>"+e+"</table>",d=d.firstChild.tBodies[0].childNodes):"cellIndex"in b?(d.innerHTML="<table><tr>"+e+"</tr></table>",d=d.firstChild.tBodies[0].firstChild.childNodes):"selected"in b&&"text"in b?(d.innerHTML="<select>"+e+"</select>",d=d.firstChild.options):(d.innerHTML=e,d=d.childNodes); f=s.createDocumentFragment();if(m||b==g){o.push(l);p.push(k);l={getAttribute:A};l[j]=a+".0";o.push([l]);p.push(0);l=[];for(c=d.length-1;0<=c;c--)e=d[c],o.push(m?e.querySelectorAll(r):e.getElementsByTagName("*")),p.push(0),o.push([e]),p.push(0),e.qdup=1,f.appendChild(e)}else for(c=d.length-1;0<=c;c--)e=d[c],e.qdup=1,f.appendChild(e);e=b.parentNode;e.insertBefore(f,b.nextSibling);e.selectedIndex=-1}}if(a=b.getAttribute(x))for(e=a.split("; ");e[0];){a=e.shift().split(" ");var n;for(c=a.length-1;0<=c;c-= 2)if(f=a[c-1],n=i(h,a[c]),v&&v(b,f,n),z[f])switch(f){case "innerHTML":throw b;case "disabled":case "checked":case "selected":b[f]=!!n;break;case "style":b.style.cssText=n;break;case "text":b[m?f:u]=n;break;case "class":f="className";default:b[f]=n}else b.setAttribute(f,n)}if(a=b.getAttribute(y))0==a.indexOf("html ")?(a=i(h,a.split(" ")[1])||"",q&&q(b,a),b.innerHTML=a):(a=i(h,a)||"",q&&q(b,a),b["form"in b?"value":u]=a)}} distal.resolve=function(g,h,i){if(i=g[h])return i;h=h.split(".");for(i=0;h[i]&&(g=g[h[i++]]););return g};