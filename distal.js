function distal(g,h){var i=new Function;i.prototype=h;var h=new i,i=distal.resolve,c=g,r=g.ownerDocument,m=!!g.querySelectorAll,t="innerText"in g?"innerText":"textContent",x={className:1,"class":1,innerHTML:1,style:1,src:1,href:1,id:1,value:1,checked:1,label:1,htmlFor:1,text:1,disabled:1},j=distal,u=j.qif||"data-qif",s=j.qrepeat||"data-qrepeat",v=j.qattr||"data-qattr",w=j.qtext||"data-qtext",j=j.qdef||"data-qdef",q="*["+[j,u,s,v,w].join("],*[")+"]",e,y=function(a){return this[a]},d=g.parentNode;for(;(c= g.nextSibling)&&1==c.nodeType&&(c.qdup||c.getAttribute("qdup"));)d.removeChild(c);var n,p=[0],l,k=0,a,b;if(m){for(l=g.querySelectorAll("*[qdup]");c=l[k++];)c.parentNode.removeChild(c);k=0}n=[m?g.querySelectorAll(q):g.getElementsByTagName("*")];for(l=[g];;){for(c=l[k++];!c&&(l=n.pop());)k=p.pop(),c=l[k++];if(!c)break;if(a=c.getAttribute(j))a=a.split(" "),h[a[0]]=i(h,a[1]);if(a=c.getAttribute(u)){a=a.split(" ");0==a[0].indexOf("not:")&&(a=[a[0].substr(4),"not",0]);if((b=i(h,a[0]))&&b.join&&-1<b.length)b= b.length;if(2<a.length)switch("number"==typeof b&&(a[2]*=1),a[1]){case "not":a=!b;break;case "eq":a=b==a[2];break;case "ne":a=b!=a[2];break;case "gt":a=b>a[2];break;case "lt":a=b<a[2];break;case "cn":a=b&&0<=b.indexOf(a[2]);break;case "nc":a=b&&0>b.indexOf(a[2]);break;default:throw c;}if(a)c.style.display="";else{c.style.display="none";k=m?k+c.querySelectorAll(q).length:k+c.getElementsByTagName("*").length;continue}}if(a=c.getAttribute(s)){b=a.split(" ");if(!m)for(e=c.parentNode;(d=c.nextSibling)&& 1==d.nodeType&&(d.qdup||d.getAttribute("qdup"));)e.removeChild(d);var f=i(h,b[1]);if(f&&f.length)c.style.display="",h[b[0]]=f[0];else{c.style.display="none";k=m?k+c.querySelectorAll(q).length:k+c.getElementsByTagName("*").length;continue}if(1<f.length){e=Array(f.length-1);len=e.length;for(b=len;0<b;b--)e[len-b]=b;d=c.cloneNode(!0);d.setAttribute(j,a);d.removeAttribute(s);d.setAttribute("qdup","1");d=d.outerHTML||r.createElement("div").appendChild(d).parentNode.innerHTML;b=d.indexOf(" "+j+'="'+a+'"'); -1==b&&(b=d.indexOf(" "+j+"='"+a+"'"));b=b+j.length+3+a.length;e=d.substr(0,b)+"."+e.join(d.substr(b)+d.substr(0,b)+".")+d.substr(b);d=r.createElement("div");"cells"in c?(d.innerHTML="<table>"+e+"</table>",d=d.firstChild.tBodies[0].childNodes):"cellIndex"in c?(d.innerHTML="<table><tr>"+e+"</tr></table>",d=d.firstChild.tBodies[0].firstChild.childNodes):"selected"in c&&"text"in c?(d.innerHTML="<select>"+e+"</select>",d=d.firstChild.options):(d.innerHTML=e,d=d.childNodes);f=r.createDocumentFragment(); if(m||c==g){n.push(l);p.push(k);l={getAttribute:y};l[j]=a+".0";n.push([l]);p.push(0);l=[];for(b=d.length-1;0<=b;b--)e=d[b],n.push(m?e.querySelectorAll(q):e.getElementsByTagName("*")),p.push(0),n.push([e]),p.push(0),e.qdup=1,f.appendChild(e)}else for(b=d.length-1;0<=b;b--)e=d[b],e.qdup=1,f.appendChild(e);c.parentNode.insertBefore(f,c.nextSibling)}}if(a=c.getAttribute(v)){a=a.split(" ");var o;for(b=a.length-1;0<=b;b-=2)if(f=a[b-1],o=i(h,a[b]),x[f])switch(f){case "innerHTML":throw c;case "disabled":case "checked":c[f]= !!o;break;case "style":c.style.cssText=o;break;case "text":c[m?f:t]=o;break;case "class":f="className";default:c[f]=o}else c.setAttribute(f,o)}if(a=c.getAttribute(w))0==a.indexOf("html ")?(a=a.split(" "),c.innerHTML=i(h,a[1])||""):c["form"in c?"value":t]=i(h,a)||""}}distal.resolve=function(g,h,i){if(i=g[h])return i;h=h.split(".");for(i=0;h[i]&&(g=g[h[i++]]););return g};